<Window x:Class="TileMap.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:tilemap="clr-namespace:TileMap"
        Title="Tile Map" Height="480" Width="640" KeyDown="Window_KeyDown" KeyUp="Window_KeyUp">
    <Grid>
		<DockPanel HorizontalAlignment="Stretch" Name="dockPanel1" VerticalAlignment="Stretch">
			<Menu Name="menu1" VerticalAlignment="Top" DockPanel.Dock="Top">
				<MenuItem Header="_File" IsEnabled="False">
					<MenuItem Header="_New"/>
					<MenuItem Header="_Open..."/>
					<MenuItem Header="_Save"/>
					<MenuItem Header="Save _As..."/>
					<MenuItem Header="E_xit"/>
				</MenuItem>
			</Menu>
			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="150"/>
					<ColumnDefinition Width="Auto"/>
					<ColumnDefinition/>
				</Grid.ColumnDefinitions>
				<Grid>
					<Grid.RowDefinitions>
						<RowDefinition Height="*"/>
						<RowDefinition Height="Auto"/>
					</Grid.RowDefinitions>
					<ListView Name="viewTiles" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" VirtualizingStackPanel.IsVirtualizing="True" Grid.Row="0" SelectionMode="Single" SelectionChanged="viewTiles_SelectionChanged" MouseDown="viewTiles_MouseDown">
						<ListView.ItemTemplate>
							<DataTemplate DataType="{x:Type tilemap:TileCluster}">
								<StackPanel Orientation="Vertical" Margin="0,0,0,5">
									<StackPanel.ContextMenu>
										<ContextMenu>
											<MenuItem Header="Delete" Click="MenuItemDeleteImportedTile_Click"/>
										</ContextMenu>
									</StackPanel.ContextMenu>
									<TextBlock Text="{Binding}"/>
									<Image MaxHeight="125" MaxWidth="125" Source="{Binding Path=Image}"/>
								</StackPanel>
							</DataTemplate>
						</ListView.ItemTemplate>
					</ListView>
					<Button Content="Import" Height="23" HorizontalAlignment="Stretch" Name="bImport" Click="bImport_Click" Grid.Row="1"/>
				</Grid>
				<GridSplitter Width="3" HorizontalAlignment="Center" VerticalAlignment="Stretch" Grid.Column="1" Focusable="False"/>
				<tilemap:MapPane x:Name="mapPane" ClipToBounds="True" Grid.Column="2" TileWidth="50" TileHeight="50" Background="White" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
			</Grid>
		</DockPanel>
	</Grid>
</Window>
